import{d as y,r as u,p as C,c as h,b as t,w as a,e as l,K as x,E as B,x as D,z as E,l as L,i as r,a as p,o as m,_ as N}from"./index-jbbSaPHq.js";const R={class:"judge-review-list"},V={class:"card-header"},z=y({__name:"ReviewList",setup(A){const c=u([]),i=u(!1),v=s=>{console.log("查看提交",s)},b=s=>{console.log("评审提交",s)},d=async()=>{i.value=!0;try{const e=(await x({url:"/submission/list",method:"get",params:{page:1,page_size:20}})).data||{};c.value=Array.isArray(e.list)?e.list:e.items||[]}catch(s){console.error(s),B.error("获取评审任务失败")}finally{i.value=!1}};return C(d),(s,e)=>{const n=l("el-button"),o=l("el-table-column"),f=l("el-table"),w=l("el-card"),g=E("loading");return m(),h("div",R,[t(w,null,{header:a(()=>[p("div",V,[e[1]||(e[1]=p("span",null,"评审任务",-1)),t(n,{type:"primary",text:"",onClick:d},{default:a(()=>[...e[0]||(e[0]=[r("刷新",-1)])]),_:1})])]),default:a(()=>[D((m(),L(f,{data:c.value,class:"detail-table"},{default:a(()=>[t(o,{prop:"submission_id",label:"提交ID",width:"120"}),t(o,{prop:"contest_title",label:"赛事","min-width":"160"}),t(o,{prop:"team_name",label:"参赛队伍","min-width":"140"}),t(o,{prop:"status",label:"状态",width:"120"}),t(o,{label:"操作",width:"180"},{default:a(({row:_})=>[t(n,{type:"primary",link:"",onClick:k=>v(_.submission_id)},{default:a(()=>[...e[2]||(e[2]=[r("查看作品",-1)])]),_:1},8,["onClick"]),t(n,{type:"success",link:"",onClick:k=>b(_.submission_id)},{default:a(()=>[...e[3]||(e[3]=[r("评审",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])),[[g,i.value]])]),_:1})])}}}),M=N(z,[["__scopeId","data-v-88c2f3a3"]]);export{M as default};
