import{d as B,u as L,k as n,g as V,l as d,w as e,e as o,b as s,a as t,i as _,t as r,c as z,m as F,F as j,T as G,n as J,f as K,o as i,_ as q}from"./index-jbbSaPHq.js";const O={class:"layout-aside__header"},P={class:"layout-header__info"},Q={class:"layout-header__title"},W={class:"layout-header__subtitle"},X={class:"layout-header__actions"},Y={class:"layout-header__welcome"},Z={class:"layout-header__name"},$={class:"layout-header__greet"},ee={class:"layout-main__inner"},te=B({__name:"index",setup(ae){const y=K(),p=V(),u=L(),T=n(()=>[{label:"首页",path:"/dashboard",roles:["ADMIN","TEACHER","STUDENT"]},{label:"题库列表",path:"/problems",roles:["ADMIN","TEACHER","STUDENT"]},{label:"赛事列表",path:"/contests",roles:["ADMIN","TEACHER","STUDENT"]},{label:"训练计划",path:"/training",roles:["ADMIN","TEACHER","STUDENT"]},{label:"用户管理",path:"/admin/users",roles:["ADMIN"]},{label:"我的资料",path:"/profile",roles:["ADMIN","TEACHER","STUDENT"]}]),E=n(()=>{const l=(u.role||"").toUpperCase();return T.value.filter(a=>a.roles.includes(l))}),b=n(()=>p.path),m=n(()=>u.nickname||u.email||"访客"),D=n(()=>{const l=m.value;return l?l.split(" ").map(a=>a.charAt(0)).join("").slice(0,2).toUpperCase():"访客"}),f=n(()=>{const l={ADMIN:"管理员",TEACHER:"教师",STUDENT:"学生"},a=(u.role||"").toUpperCase();return l[a]||"访客"}),N=n(()=>p.meta?.title||"仪表盘"),C=n(()=>{switch((u.role||"").toUpperCase()){case"ADMIN":return"统筹赛事与团队，让协作更顺畅";case"TEACHER":return"策划训练与赛事，陪伴学生进步";case"JUDGE":return"保持专注，评审每一次精彩表现";case"STUDENT":return"持续训练，与优秀的自己相遇";default:return"欢迎来到竞赛集训系统"}}),A=n(()=>{const l=new Date().getHours();return l<12?"早上好":l<18?"下午好":"晚上好"}),g=()=>{u.logout(),y.push({name:"Login"})};return(l,a)=>{const h=o("el-tag"),U=o("el-menu-item"),M=o("el-menu"),S=o("el-scrollbar"),I=o("el-aside"),R=o("el-avatar"),x=o("el-button"),H=o("el-header"),k=o("router-view"),w=o("el-main"),v=o("el-container");return i(),d(v,{class:"layout-container"},{default:e(()=>[s(I,{class:"layout-aside"},{default:e(()=>[t("div",O,[a[0]||(a[0]=t("div",{class:"layout-aside__brand"},"Contest Hub",-1)),s(h,{size:"small",class:"layout-aside__role",effect:"dark"},{default:e(()=>[_(r(f.value),1)]),_:1})]),s(S,{class:"layout-aside__scroll"},{default:e(()=>[s(M,{"default-active":b.value,router:"",class:"layout-menu",collapse:!1},{default:e(()=>[(i(!0),z(j,null,F(E.value,c=>(i(),d(U,{key:c.path,index:c.path,class:"menu-item"},{default:e(()=>[t("span",null,r(c.label),1)]),_:2},1032,["index"]))),128))]),_:1},8,["default-active"])]),_:1}),a[1]||(a[1]=t("div",{class:"layout-aside__footer"},[t("p",null,"每日进步一点点 ✨")],-1))]),_:1}),s(v,{class:"layout-content"},{default:e(()=>[s(H,{class:"layout-header"},{default:e(()=>[t("div",P,[t("h1",Q,r(N.value),1),t("p",W,r(C.value),1)]),t("div",X,[s(h,{type:"info",round:""},{default:e(()=>[_(r(f.value),1)]),_:1}),s(R,{size:40,class:"layout-header__avatar"},{default:e(()=>[_(r(D.value),1)]),_:1}),t("div",Y,[t("span",Z,r(m.value),1),t("span",$,r(A.value),1)]),s(x,{type:"primary",plain:"",onClick:g},{default:e(()=>[...a[2]||(a[2]=[_("安全退出",-1)])]),_:1})])]),_:1}),s(w,{class:"layout-main"},{default:e(()=>[t("div",ee,[s(k,null,{default:e(({Component:c})=>[s(G,{name:"fade-slide",mode:"out-in"},{default:e(()=>[(i(),d(J(c)))]),_:2},1024)]),_:1})])]),_:1})]),_:1})]),_:1})}}}),oe=q(te,[["__scopeId","data-v-897e36df"]]);export{oe as default};
